import pstats

# Create a 'Stats' object, loading the file generated by cProfile
stats = pstats.Stats('profile.stats')

# 1. Strip leading path information from filenames
stats.strip_dirs()

# 2. Sort the stats by the cumulative time spent in functions
stats.sort_stats('cumulative')

# 3. Print the stats, but only for functions defined self-defined
print("--- Filtered for Self-Defined ---")
stats.print_stats('TwinGraph')
stats.print_stats('RegionTree')
stats.print_stats('GraphNav')
stats.print_stats('Euclid')

# You can also filter by a function name
# print("\n--- Filtered for functions containing 'fast' ---")
# stats.print_stats('fast')